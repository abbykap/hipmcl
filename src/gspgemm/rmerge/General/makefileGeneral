ifeq ($(CXX),$(filter $(CXX),g++ gcc))
MYFAST_FLAGS = -O3
else
MYFAST_FLAGS = -O3 -ip -fp-model fast=2
endif

ifeq ($(IGNORE_MKL),TRUE)
MKLDEFINE = -DIGNORE_MKL
MYMKL_FLAGS = 
INC_MKL = 
else
MKLDEFINE =
MYMKL_FLAGS = $(FLAGS_MKL_LINKER)
INC_MKL = -I $(MKL_PATH)/lib/intel64
endif

INC_BOOST = -I$(BOOSTDIR)
LINK_BOOST = -L$(BOOSTDIR)/stage/lib -Wl,-Bstatic -lboost_timer -lboost_chrono -lboost_filesystem -lboost_iostreams -lboost_system -lboost_regex -Wl,-Bdynamic

INC_CUDA = -I $(CUDA_PATH)/include
LINK_CUDA = -L $(CUDA_PATH)/lib64 -lcudart -lcublas -lcurand

../General/General.o:
	$(CXX) -c ../General/FileSystem.cpp -o ../General/General.o -I . -I .. $(INC_BOOST) $(INC_CUDA) -fopenmp -m64 -O2 -std=c++11
	
General: ../General/General.o 
	
CleanGeneral: 
	\rm -f ../General/General.o	